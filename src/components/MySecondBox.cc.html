<content>
  <button id="test">Change second box visibility!</button>
  <c-if condition="display">
    <h3>MySecondBox Component</h3>
  </c-if>
  <c-if condition="!nested.object.hide">
    <h4>Im not visible by default!</h4>
  </c-if>
</content>

<style>
  h3 {
    color: red;
    letter-spacing: 10px;
    word-spacing: 30px;
  }
</style>

<script>
  const display = state("display");
  const nested = state("nested");

  onStateChange = (value, property) => {
    console.log("State changed in MySecondBox", value, property);
    if (property === 'display') {
      nested.value = { object: { hide: value } };
    }
  }

  hostElement.shadowRoot.querySelector("#test").addEventListener("click", () => {
    display.value = !display.value;
  })

  nested.value = { object: { hide: true } };
  display.value = true;
</script>
