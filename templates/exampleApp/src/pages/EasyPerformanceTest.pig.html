<content>
    <div class="performance-test-wrapper">
        <h1 id="componentCount">Rendering...</h1>
        <div id="performance-test">
            <EasyPerformanceComponent id="performanceComponent" />
        </div>
    </div>
</content>

<script>
    this.disableHMR();

    console.profile('PerformanceTest');
    console.time('PerformanceTest');
    const start = performance.now();

    const componentCount = 1000;

    const fragment = document.createDocumentFragment();

    for (let i = 0; i < componentCount; i++) {
        const el = document.createElement('easy-performance-component');
        fragment.appendChild(el);
    }

    $element("#performance-test").appendChild(fragment);

    console.profileEnd('PerformanceTest');
    console.timeEnd('PerformanceTest');
    const end = performance.now();

    $element("#componentCount").innerHTML = `Rendered <span>${componentCount}</span> components in <span>${Math.round(end - start)}ms</span>`;
</script>

<style>
    #performance-test {
        width: fit-content;
        height: fit-content;
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 10px; /* Add spacing between components */
        padding: 20px; /* Add padding around the container */
    }

    .performance-test-wrapper {
        display: flex;
        align-items: center;
        flex-direction: column;
        padding: 20px; /* Add padding around the wrapper */
        color: white;
        border-radius: 15px; /* Rounded corners */

    }

    #componentCount {
        font-size: 1.5rem;
        margin-bottom: 20px;
        text-align: center;
    }

    #componentCount span:nth-child(1),
    #componentCount span:nth-child(2) {
        color: #f2772e;
        font-weight: bold;
    }

    #performance-test > easy-performance-component:hover {
        transform: scale(1.1);
        background-color: #ff8c42;
        transition: transform 0.2s ease, background-color 0.2s ease;
    }
</style>